///|
/// æ¼”ç¤º String::length å’Œ String::char_length çš„åŒºåˆ«
///
/// String::length è¿”å› UTF-16 ç å…ƒæ•°é‡
/// String::char_length è¿”å› Unicode å­—ç¬¦æ•°é‡
///
/// å¯¹äºåŒ…å«ä»£ç†å¯¹ï¼ˆsurrogate pairsï¼‰çš„å­—ç¬¦ï¼ˆå¦‚ emojiï¼‰ï¼Œ
/// String::length ä¼šè¿”å› 2ï¼Œè€Œ String::char_length ä¼šè¿”å› 1
///|
test "å­—ç¬¦ä¸²é•¿åº¦è®¡ç®—å¯¹æ¯”" {
  // åŸºæœ¬ ASCII å­—ç¬¦ - ä¸¤ç§æ–¹æ³•ç»“æœç›¸åŒ
  let ascii_str = "hello"
  inspect(String::length(ascii_str), content="5")
  inspect(String::char_length(ascii_str), content="5")
  
  // ä¸­æ–‡ - ä¸¤ç§æ–¹æ³•ç»“æœç›¸åŒï¼ˆUTF-16 ä¸­æ¯ä¸ªä¸­æ–‡å­—ç¬¦å  2 ä¸ªç å…ƒï¼‰
  let chinese_str = "ä½ å¥½ä¸–ç•Œ"
  inspect(String::length(chinese_str), content="4")
  inspect(String::char_length(chinese_str), content="4")
  
  // Emoji è¡¨æƒ… - è¿™é‡Œä¼šæœ‰åŒºåˆ«ï¼
  // ğŸ˜€ è¿™ä¸ª emoji åœ¨ UTF-16 ä¸­éœ€è¦ 2 ä¸ªç å…ƒï¼ˆä»£ç†å¯¹ï¼‰
  let emoji_str = "ğŸ˜€"
  inspect(String::length(emoji_str), content="2")
  inspect(String::char_length(emoji_str), content="1")
  
  // æ··åˆå­—ç¬¦ä¸²
  let mixed_str = "helloğŸ˜€world"
  inspect(String::length(mixed_str), content="12")  // 5 + 2 + 5 = 12
  inspect(String::char_length(mixed_str), content="11") // 5 + 1 + 5 = 11
  
  // æ›´å¤š emoji ç¤ºä¾‹
  let emojis = "ğŸ‰ğŸš€ğŸŒŸ"
  inspect(String::length(emojis), content="6")  // æ¯ä¸ª emoji 2 ä¸ªç å…ƒ
  inspect(String::char_length(emojis), content="3") // æ¯ä¸ª emoji 1 ä¸ªå­—ç¬¦
}